<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="../style.css" />
    <!-- Include your CSS file -->
  </head>
  <body style="display: flex; gap: 15px;">
    <header>
      <h1 id="you">Welcome to Your Dashboard</h1>
      <nav>
        <ul>
          <li title="click to view the leaders board">
            <a href="/leader-board.html">Leaderboard</a>
          </li>
          <li title="click to view the available courses">
            <a href="/course-content">Course Content</a>
          </li>
          <li title="click to see your courses"><a href="/user-courses.html">Registered Courses</a></li>
          <!-- Add more navigation links as needed -->
        </ul>
      </nav>
    </header>
    <main style="height: 50vh;">
      <section class="welcome-message">
        <h2>Hello, <span id="user-fullname"> <%= fullName %></span>!</h2>
        <p>Welcome to your personalized dashboard.</p>
      </section>
      <form id="logout-form">
        <button type="submit" title="click to log out">Logout</button>
      </form>
    </main>
    <footer>
      <p>&copy; 2024 Your LMS</p>
    </footer>

    <!-- Include your client-side JavaScript file -->
    <script src="script.js"></script>
    <script>
      document.getElementById("logout-form").addEventListener("submit", (e) => {
        e.preventDefault(); // Prevent the form's default action

        fetch("/logout", {
          // Send POST request to logout endpoint
          method: "POST",
        })
          .then((response) => {
            if (response.ok) {
              // Redirect to the login or home page after successful logout
              window.location.href = "/"; // Redirect to home or login
            } else {
              console.error("Logout failed.");
            }
          })
          .catch((error) => {
            console.error("Error during logout:", error);
          });
      });
    </script>
  </body>
</html>
